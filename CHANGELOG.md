# تغییرات نرم‌افزار انبارداری

## نسخه 2.6 (1404/05/19) - 9 آگوست 2025

### ✨ ویژگی‌های جدید
- **گزارش کسری قطعات ساختاریافته**: افزودن گزارش حرفه‌ای برای لیست قطعات کسری
- **اولویت‌بندی تامین**: تقسیم‌بندی قطعات کسری به اولویت‌های بالا، متوسط و عادی
- **بخش امضاها**: اضافه کردن بخش امضای مسئولین (انبار، تولید، خرید)
- **راهکارهای پیشنهادی**: بخش توضیحات و راهکارهای عملیاتی در گزارش کسری

### 🎨 بهبودهای طراحی
- **فونت Vazirmatn**: استفاده از فونت حرفه‌ای برای بهبود خوانایی
- **رنگ‌بندی هوشمند**: طراحی رنگی مناسب برای تمایز اولویت‌ها
- **طراحی پرینت**: بهینه‌سازی نمایش برای پرینت با حفظ رنگ‌ها
- **لایوت حرفه‌ای**: ساختار منظم و استاندارد برای گزارشات

### 🔧 رفع خطاها
- **خطای Parse**: حل مشکل syntax error در فایل `production_orders.php` خط 6
- **مدیریت سفارشات خالی**: هدایت خودکار به صفحه ایجاد سفارش در صورت نبود سفارش
- **لینک بازگشت**: اصلاح مسیر دکمه بازگشت به صفحه اصلی

### 🚀 بهبود عملکرد
- **بهینه‌سازی کد**: بهبود ساختار JavaScript و CSS
- **مدیریت حافظه**: کاهش استفاده از حافظه در گزارشات
- **سرعت بارگذاری**: بهبود زمان واکنش صفحات

---

## نسخه 2.5.0 (1404/05/18) - 8 آگوست 2025

### ✨ ویژگی‌های اصلی
- **سیستم سفارش تولید**: پیاده‌سازی کامل مدیریت سفارشات تولید
- **گزارشات چندگانه**: گزارش مدیریت، تامین‌کننده، انباردار و تفکیک شده
- **مدیریت BOM**: سیستم Bill of Materials برای دستگاه‌ها
- **پیگیری موجودی**: کنترل و نمایش وضعیت قطعات

### 🎯 بهبودهای کاربری
- **طراحی ریسپانسیو**: سازگاری کامل با موبایل و تبلت
- **آمار تعاملی**: نمایش آمار در کارت‌های جذاب
- **انیمیشن‌ها**: افکت‌های زیبا برای بهبود تجربه کاربری

---

## نسخه 1.0.0 (1402/05/14)

### ویژگی‌های اصلی
- ✨ سیستم مدیریت انبار با رابط کاربری ساده و کاربردی
- 📊 امکان ایجاد جلسات انبارگردانی جدید
- 📝 ثبت موجودی کالاها در هر جلسه
- 📥 امکان ورود اطلاعات از فایل CSV
- 📤 امکان خروجی گرفتن به فرمت CSV
- 📈 نمایش گزارش‌های انبارگردانی با جزئیات کامل
- 🔄 تبدیل خودکار تاریخ‌ها به شمسی
- 🔒 امنیت بالا در ذخیره و نمایش اطلاعات

### بهبودها
- بهینه‌سازی ساختار کد و حذف فایل‌های اضافی
- بهبود رابط کاربری و اضافه شدن نوار پیشرفت
- اصلاح مشکلات مربوط به نمایش تاریخ شمسی
- بهبود عملکرد در هنگام آپلود و دانلود فایل‌های CSV

### رفع اشکالات
- رفع مشکل نمایش گزارش‌ها
- رفع مشکل اتصال به دیتابیس
- اصلاح خطاهای SQL در صفحه گزارش‌ها

## 2025-07-26

### اضافه کردن سیستم نصب خودکار
- ایجاد فایل setup.php برای نصب خودکار دیتابیس
- نمایش گزارش نتیجه نصب به صورت گرافیکی
- اضافه کردن پیام‌های خطا در صورت بروز مشکل

### بهبود سیستم گزارش‌گیری
- ایجاد فایل export_csv.php برای دانلود خروجی اکسل با تمام فیلدها
- اضافه کردن اطلاعات بیشتر به صفحه گزارش‌های انبارداری:
  - تعداد کل اقلام
  - تعداد اقلام شمارش شده
  - نمایش درصد پیشرفت با نوار گرافیکی
- بهبود خروجی CSV با اضافه کردن:
  - کد انبار
  - تامین کننده
  - حداقل موجودی
  - پشتیبانی از زبان فارسی در اکسل
  - تبدیل تاریخ‌ها به شمسی

### اضافه کردن تقویم شمسی
- پیاده‌سازی تابع تبدیل تاریخ میلادی به شمسی
- نمایش تاریخ‌های شروع و پایان انبارگردانی به صورت شمسی
- اضافه کردن کتابخانه morilog/jalali به پروژه (در حال حاضر از پیاده‌سازی دستی استفاده می‌شود)

### بهبود نمایش گزارش‌های انبارداری

- اصلاح کوئری برای نمایش تمام جلسات انبارگردانی (چه تکمیل شده و چه در حال انجام)
- استفاده از جدول `inventory_sessions` به جای `inventory_records` برای نمایش اطلاعات جامع‌تر
- اضافه کردن ستون‌های جدید به جدول نمایش:
  - وضعیت (تکمیل شده/در حال انجام)
  - تاریخ شروع
  - توضیحات
- بهبود نمایش مقادیر خالی با استفاده از علامت `-`
- اصلاح لینک دانلود CSV برای استفاده از شناسه جلسه صحیح

این تغییرات باعث می‌شود که:
1. تمام جلسات انبارگردانی (حتی ناقص) نمایش داده شوند
2. اطلاعات بیشتری در مورد هر جلسه در دسترس باشد
3. کاربر بتواند وضعیت هر جلسه را به راحتی مشاهده کند

---

## فعالیت‌های ثبت شده

- حذف منوی تکراری از هدر صفحه اصلی و انتقال لینک‌ها فقط به کارت‌ها (index.php)
- ساده‌سازی هدر و جلوگیری از نمایش لینک‌های اضافی در منوی بالا (index.php)

---

**یادآوری:**  
پس از هر تغییر، حتماً کامیت انجام دهید و تغییرات را به سرور پوش کنید.
