# سیستم مدیریت انبارداری و تولید 📦🛠️

یک سیستم کامل برای مدیریت انبار، تامین‌کنندگان، تولید و BOM با نصب و ارتقای خودکار.

## ویژگی‌ها 🌟

- ایجاد جلسات انبارگردانی جدید 📝
- ورود اطلاعات از فایل CSV 📥
- خروجی گرفتن به فرمت CSV 📤
- گزارش‌های کامل با جزئیات 📊
- تبدیل خودکار تاریخ به شمسی 📅
- رابط کاربری ساده و کاربردی 🎯
- امنیت بالا در ذخیره اطلاعات 🔒
- مدیریت تامین‌کنندگان
- مدیریت دستگاه‌ها و BOM
- مدیریت سفارشات تولید و تایید تولید
- سیستم نصب و ارتقای خودکار (setup.php و migrate.php)
- امنیت و اعتبارسنجی داده‌ها

## نیازمندی‌ها 🔧

- PHP 7.4 یا بالاتر
- MySQL 5.7 یا بالاتر
- مرورگر مدرن با پشتیبانی از HTML5 و CSS3

## نصب و راه‌اندازی 🚀

1. فایل‌های پروژه را دانلود کنید
2. فایل `config.example.php` را به `config.php` تغییر نام دهید
3. اطلاعات اتصال به دیتابیس را در فایل `config.php` وارد کنید
4. فایل `db.sql` را در دیتابیس خود اجرا کنید
5. پروژه را در یک وب سرور با پشتیبانی از PHP قرار دهید
6. برای اعمال مایگریشن‌های جدید، دستور زیر را اجرا کنید:
   ```bash
   php migrate.php
   ```

## ساختار فایل‌ها و ماژول‌ها 📁

```
.
├── index.php                # صفحه اصلی و منوی کاربری
├── new_inventory.php        # ثبت انبارگردانی جدید
├── import_inventory.php     # ورود اطلاعات از CSV
├── export_csv.php           # خروجی CSV
├── view_inventories.php     # مشاهده و گزارش‌گیری
├── suppliers.php            # مدیریت تامین‌کنندگان
├── new_supplier.php         # افزودن تامین‌کننده
├── edit_supplier.php        # ویرایش تامین‌کننده
├── devices.php              # مدیریت دستگاه‌ها
├── device_bom.php           # مدیریت BOM دستگاه‌ها
├── production_orders.php    # مدیریت سفارشات تولید
├── production_order.php     # جزئیات سفارش تولید
├── confirm_production_order.php # تایید سفارش تولید
├── start_production.php     # شروع تولید
├── includes/functions.php   # توابع کمکی
├── config.php               # تنظیمات اتصال به دیتابیس (خالی در ابتدا)
├── setup.php                # نصب و راه‌اندازی و ارتقا
├── migrate.php              # اجرای مایگریشن‌ها
├── migrations/              # اسکریپت‌های مایگریشن دیتابیس
├── db.sql                   # ساختار اولیه دیتابیس
└── README.md                # مستندات
```

## نحوه استفاده 📖

1. از صفحه اصلی، "انبارگردانی جدید" را انتخاب کنید
2. اطلاعات کالاها را وارد کنید (دستی یا از طریق فایل CSV)
3. پس از اتمام، انبارگردانی را ذخیره کنید
4. از بخش گزارش‌ها می‌توانید نتایج را مشاهده و دانلود کنید

## امنیت 🔒

- تمام ورودی‌های کاربر اعتبارسنجی می‌شوند
- از حملات SQL Injection جلوگیری می‌شود
- فایل‌های حساس از دسترسی مستقیم محافظت می‌شوند

## پشتیبانی 💬

برای گزارش مشکلات یا پیشنهادات، لطفاً یک issue در GitHub ایجاد کنید.

## مجوز 📜

این پروژه تحت مجوز MIT منتشر شده است. برای اطلاعات بیشتر به فایل LICENSE مراجعه کنید.

## 📋 درباره پروژه
این پروژه یک سیستم مدیریت انبار ساده است که با PHP نوشته شده است.

### 🔄 کنترل نسخه
این پروژه از Git برای کنترل نسخه استفاده می‌کند. تاریخچه تغییرات اصلی:

#### نسخه 1.0.0 (25 تیر 1404)
- راه‌اندازی اولیه سیستم مدیریت انبار
- قابلیت ثبت و ویرایش موجودی
- امکان وارد کردن اطلاعات از فایل CSV
- گزارش‌گیری از موجودی انبار
- رابط کاربری ریسپانسیو

### 🚀 امکانات
- مدیریت موجودی کالا
- ورود و خروج اطلاعات با CSV
- گزارش‌گیری
- ارسال ایمیل گزارشات

### 🔧 نصب و راه‌اندازی
```bash
# کلون کردن مخزن
git clone https://github.com/your-username/inventory-system.git

# تنظیم فایل config.php
cp config.example.php config.php
# ویرایش تنظیمات پایگاه داده

# ایجاد پایگاه داده
mysql -u [username] -p [database_name] < db.sql
```

### 📝 ساختار پروژه
```
├── index.php           # صفحه اصلی
├── new_inventory.php   # ثبت انبارگردانی جدید
├── import_inventory.php # ورود اطلاعات از CSV
├── export_inventory.php # خروجی CSV
├── config.php         # تنظیمات
├── db.sql            # اسکریپت پایگاه داده
└── README.md         # مستندات
```

### 👥 مشارکت
برای مشارکت در پروژه، لطفاً موارد زیر را رعایت کنید:
1. یک شاخه جدید ایجاد کنید
2. تغییرات خود را اعمال کنید
3. یک درخواست pull ایجاد کنید

### 📄 مجوز
MIT License

## 🛠 مستندات فنی و راهنمای توسعه‌دهندگان

### ساختار پایگاه داده
- جدول `inventory`: اطلاعات کالاها
- جدول `inventory_records`: رکوردهای ثبت‌شده برای هر جلسه انبارگردانی
- جدول `inventory_sessions`: مدیریت جلسات انبارگردانی

### نحوه افزودن قابلیت جدید
1. ابتدا ساختار پایگاه داده را بررسی و در صورت نیاز تغییر دهید (db.sql).
2. منطق مربوطه را در یکی از فایل‌های PHP اضافه یا ویرایش کنید.
3. برای اعتبارسنجی داده‌ها، قبل از ذخیره در پایگاه داده، داده‌ها را بررسی کنید.
4. تست عملکرد را با داده‌های نمونه انجام دهید.

### APIها و نقاط ورودی
- index.php: صفحه اصلی و داشبورد
- new_inventory.php: ثبت و مدیریت انبارگردانی جدید
- import_inventory.php: ورود اطلاعات از CSV
- export_inventory.php: خروجی گرفتن از CSV
- save_inventory.php: ذخیره اطلاعات انبارگردانی (AJAX)
- finalize_inventory.php: نهایی‌سازی جلسه انبارگردانی (AJAX)
- view_inventories.php: مشاهده و گزارش‌گیری جلسات

### نکات توسعه
- اطلاعات حساس را در فایل config.php قرار دهید و در نسخه‌های عمومی حذف کنید.
- برای توسعه حرفه‌ای‌تر، پیشنهاد می‌شود پروژه را به معماری MVC منتقل کنید.
- برای افزودن تست، از phpunit استفاده کنید و تست‌ها را در پوشه tests قرار دهید.

### ماژول‌های اصلی
- **انبارداری:** ثبت، ویرایش و گزارش‌گیری جلسات انبارگردانی
- **تامین‌کنندگان:** افزودن، ویرایش و مشاهده لیست تامین‌کنندگان
- **دستگاه و BOM:** مدیریت دستگاه‌ها و قطعات هر دستگاه (BOM)
- **تولید:** ثبت سفارش تولید، تایید و شروع تولید، محاسبه کسری قطعات
- **نصب و ارتقا:** نصب و ارتقای خودکار دیتابیس و ساختارها

## وضعیت فعلی پروژه (مرداد ۱۴۰۴)
- [x] مدیریت انبار و جلسات انبارگردانی
- [x] مدیریت تامین‌کنندگان
- [x] مدیریت دستگاه و BOM
- [x] مدیریت سفارش تولید و تایید تولید
- [x] سیستم نصب و ارتقای خودکار
- [x] منوی کاربرپسند و لینک‌سازی کامل

---

برای سوال یا پیشنهاد، issue ثبت کنید یا با توسعه‌دهنده تماس بگیرید.