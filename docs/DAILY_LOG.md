# گزارش تغییرات روزانه پروژه

## 14 مرداد 1402

### اضافه شدن مدیریت دستگاه‌ها و BOM 🎉

#### تغییرات دیتابیس
- ✅ ایجاد جدول `devices` برای ذخیره اطلاعات دستگاه‌ها
- ✅ ایجاد جدول `device_bom` برای لیست قطعات
- ✅ ایجاد جدول `suppliers` برای تامین‌کنندگان
- ✅ ایجاد جداول مربوط به سفارشات تولید و خرید

#### فایل‌های جدید
- ✅ `devices.php`: صفحه لیست و مدیریت دستگاه‌ها
- ✅ `new_device.php`: فرم افزودن دستگاه جدید
- ✅ `device_bom.php`: مدیریت لیست قطعات هر دستگاه

#### بهبودها
- 🔄 بهبود ساختار پروژه با حذف فایل‌های اضافی
- 🔄 اضافه کردن اعتبارسنجی برای کد دستگاه
- 🔄 پیاده‌سازی رابط کاربری بهتر با Bootstrap 5

#### موارد در حال انجام
- 🚧 صفحه مدیریت تامین‌کنندگان
- 🚧 ارتباط BOM با موجودی انبار
- 🚧 محاسبه نیازهای تولید

#### برنامه‌های آتی
1. تکمیل مدیریت تامین‌کنندگان
2. پیاده‌سازی سیستم سفارش تولید
3. ایجاد گزارش‌های تحلیلی

### نکات مهم
- تمام کدها در برنچ `feature/bom-management` قرار دارند
- نیاز به اجرای `db_update_v2.sql` برای بروزرسانی دیتابیس
- رعایت استانداردهای کدنویسی و امنیت

### مشکلات شناسایی شده
- نیاز به بهینه‌سازی کوئری‌های BOM
- نیاز به افزودن validation بیشتر در فرم‌ها
- نیاز به مستندسازی API‌ها

### اقدامات بعدی
1. تکمیل صفحه تامین‌کنندگان
2. افزودن امکان آپلود فایل اکسل BOM
3. پیاده‌سازی سیستم هشدار موجودی
4. ایجاد داشبورد مدیریتی
----

✅ موارد انجام شده:
1. 🔧 ایجاد منوی تنظیمات
دکمه "تنظیمات سیستم" در پایین صفحه اصلی (footer) اضافه شد
لینک مستقیم به صفحه تنظیمات با آیکون زیبا
2. 📊 صفحه تنظیمات جامع (settings.php)
مدیریت اطلاعات کسب و کار:

نام شرکت/کسب و کار
آدرس، تلفن، ایمیل، وب‌سایت
ذخیره در جدول settings
مدیریت دیتابیس:

بک‌آپ گیری: دانلود فایل SQL از دیتابیس
ریستور: آپلود و بازیابی از فایل بک‌آپ
ریست دیتابیس: حذف تمام داده‌ها (با رمز محافظت)
3. 🏢 نمایش اطلاعات کسب و کار در سیستم
عنوان صفحات: نام کسب و کار در title صفحات نمایش داده می‌شود
صفحه اصلی: نام کسب و کار در navbar و header اصلی
فرم‌های سفارش: هدر اطلاعات کسب و کار در برگه‌های قابل پرینت
قالب‌های پرینت: شامل آدرس، تلفن، ایمیل در گزارش‌ها
4. 🔒 امنیت و محافظت
رمز عبور برای عملیات ریست و ریستور دیتابیس
اعتبارسنجی فایل‌های آپلودی
مدال‌های تایید برای عملیات خطرناک
5. 🗂️ ساختار فایل‌ها
settings.php: صفحه تنظیمات اصلی
backups: پوشه برای فایل‌های بک‌آپ موقت
getBusinessInfo(): تابع جدید در functions.php
بروزرسانی index.php و سایر فایل‌ها
6. 💾 قابلیت‌های بک‌آپ و ریستور
بک‌آپ: ایجاد فایل SQL و دانلود فوری
ریستور: آپلود فایل .sql و بازیابی دیتابیس
ریست: حذف کامل و بازگشت به حالت اولیه
🎯 نتیجه:
حالا می‌توانید:

از طریق دکمه "تنظیمات سیستم" در پایین صفحه اصلی وارد شوید
اطلاعات کسب و کار خود را وارد کنید
این اطلاعات در تمام صفحات و گزارش‌ها نمایش داده می‌شود
بک‌آپ دوره‌ای از دیتابیس بگیرید
در صورت نیاز دیتابیس را بازیابی یا ریست کنید
تمام عملیات با UI زیبا، محافظت رمزی و قابلیت پرینت مناسب پیاده‌سازی شده‌اند! 🎉